{"version":3,"sources":["webpack:///./src/app/components/merchant-card/merchant-card.component.html","webpack:///./src/app/components/merchant-card/merchant-card.component.ts","webpack:///./src/app/routes/home-page/home-page.component.html","webpack:///./src/app/routes/home-page/home-page.component.ts","webpack:///./src/app/routes/home-page/module.ts","webpack:///./src/app/routes/home-page/router.ts","webpack:///./src/app/services/merchant/merchant.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,mT;;;;;;;;;;;;;;;;;ACAyD;AAOzD;IAIE;IAAgB,CAAC;IAEjB,wCAAQ,GAAR;IACA,CAAC;IALQ;QAAR,2DAAK,EAAE;;2DAAc;IAFX,qBAAqB;QALjC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;YAC7B,sIAA6C;SAE9C,CAAC;;OACW,qBAAqB,CASjC;IAAD,4BAAC;CAAA;AATiC;;;;;;;;;;;;ACPlC,oPAAoP,yCAAyC,4N;;;;;;;;;;;;;;;;;;ACA3O;AACyB;AAO3E;IAQE,2BACU,eAAgC;QAD1C,iBAMC;QALS,oBAAe,GAAf,eAAe,CAAiB;QAOlC,oBAAe,GAAG;YACxB,KAAI,CAAC,eAAe,CAAC,YAAY,EAAE;iBAClC,IAAI,CAAE,qBAAW;gBAChB,KAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,IAAI,CAAC;gBAC5C,KAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,IAAI,CAAC;gBAC3C,KAAI,CAAC,qBAAqB,GAAG,WAAW,CAAC,IAAI,CAAC;YAChD,CAAC,CAAE;iBACF,KAAK,CAAE,qBAAW,IAAI,cAAO,CAAC,KAAK,CAAC,WAAW,CAAC,EAA1B,CAA0B,CAAE;QACrD,CAAC;QAEO,0BAAqB,GAAG,UAAC,IAAS;YAExC,IAAI,CAAC,GAAG,CAAE,UAAC,IAAS;gBAClB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK;gBAC9B,IAAG,KAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC;oBAClE,KAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oBACtD,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;iBAC9C;YACH,CAAC,CAAC;YAEF,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;QACjC,CAAC;QAEM,iBAAY,GAAG,UAAC,GAAQ;YAC7B,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,kBAAkB,CAAC;YAEpC,KAAI,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI;YAE9B,GAAG,CAAC,QAAQ,GAAG,IAAI;YAEnB,IAAI,SAAS,GAAG,EAAE,CAAC;YAEnB,KAAI,CAAC,qBAAqB,CAAC,GAAG,CAAE,cAAI;gBACnC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,EAAE;oBACpC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;iBACpB;YACF,CAAC,CAAC;YAEF,KAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;QACtC,CAAC;QA5CC,IAAI,CAAC,wBAAwB,GAAG,EAAE;QAClC,IAAI,CAAC,oBAAoB,GAAG,EAAE;QAC9B,IAAI,CAAC,cAAc,GAAG,KAAK;IAC7B,CAAC;IA2CD,oCAAQ,GAAR;QACE,IAAI,CAAC,eAAe,EAAE;IACxB,CAAC;IA3DU,iBAAiB;QAL7B,+DAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,sHAAyC;YACzC,SAAS,EAAE,CAAE,mFAAe,CAAE;SAC/B,CAAC;+EAU2B,mFAAe;OAT/B,iBAAiB,CA6D7B;IAAD,wBAAC;CAAA;AA7D6B;;;;;;;;;;;;;;;;;;;;;;ACR9B;;EAEE;AACE,UAAU;AAC+B;AACM;AAE/C,QAAQ;AACkD;AACvB;AAC4D;AACnG,EAAE;AAGF;;EAEE;AAgBE;IANJ,EAAE;IAGF;;MAEE;IACE;IAAqB,CAAC;IAAT,MAAM;QAflB,8DAAQ,CAAC;YACN,YAAY,EAAE,CAAE,sEAAiB,EAAE,uGAAqB,CAAE;YAC1D,OAAO,EAAE;gBACL,4DAAY;gBAEZ,gDAAgD;gBAChD,+CAAO;aACV;SACJ,CAAC;QACN,EAAE;QAGF;;UAEE;OACe,MAAM,CAAG;IAAD,aAAC;CAAA;AAAH;AAAG,CAAC;AAC3B,EAAE;;;;;;;;;;;;;AC7BE;AAAA;AAAA;AAAA;AAAuD;AACG;AAC9D,EAAE;AAGF;;EAEE;AACE,IAAM,KAAK,GAAW;IAClB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,sEAAiB;KAC/B;CACJ,CAAC;AACN,EAAE;AAGF;;EAEE;AACS,IAAM,OAAO,GAAwB,4DAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC7E,EAAE;;;;;;;;;;;;;;;;;;;;ACzByC;AACoB;AACC;AAKhE;IAIE,yBACU,UAAsB;QADhC,iBAIC;QAHS,eAAU,GAAV,UAAU,CAAY;QAKzB,iBAAY,GAAG;YACpB,OAAO,KAAI,CAAC,UAAU,CAAC,GAAG,CAAI,KAAI,CAAC,MAAM,cAAW,CAAC;iBACpD,SAAS,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAI,CAAC,WAAW,CAAC;QACzD,CAAC;QANC,IAAI,CAAC,MAAM,GAAG,qEAAW,CAAC,MAAM;IAClC,CAAC;IAOD,uBAAuB;IACf,iCAAO,GAAf,UAAgB,GAAQ;QACtB,OAAO,GAAG,IAAI,EAAE,CAAC;IACnB,CAAC;IAAA,CAAC;IAEF,oBAAoB;IACZ,qCAAW,GAAnB,UAAoB,GAAQ;QAC1B,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAAA,CAAC;IAvBS,eAAe;QAH3B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAMsB,+DAAU;OALrB,eAAe,CAwB3B;IAAD,sBAAC;CAAA;AAxB2B","file":"routes-home-page-module.js","sourcesContent":["module.exports = \"<h3 [innerText]=\\\"merchant.content.name\\\"></h3>\\n<p [innerText]=\\\"merchant.content.description\\\"></p>\\n<ul>\\n  <li [innerText]=\\\"merchant.content.infos.address\\\"></li>\\n  <li [innerText]=\\\"merchant.content.infos.city\\\"></li>\\n  <li [innerText]=\\\"merchant.content.infos.code\\\"></li>\\n</ul>\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-merchant-card',\n  templateUrl: './merchant-card.component.html',\n  styles: []\n})\nexport class MerchantCardComponent implements OnInit {\n\n  @Input() merchant: any\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<ul *ngIf=\\\"categoriesCollection\\\" class=categoryList>\\n  <li \\n    *ngFor=\\\"let item of categoriesCollection\\\"\\n    [textContent]=\\\"item.name\\\"\\n    [class]=\\\"item.slug\\\"\\n    (click)=\\\"sortMerchant(item)\\\"\\n    [ngClass]=\\\"{ 'active': item.slug === activeCategory }\\\"\\n  ></li>\\n</ul>\\n\\n<ul *ngIf=\\\"merchantCollection\\\">\\n  <li *ngFor=\\\"let item of merchantCollection\\\">\\n    <app-merchant-card [merchant]=\\\"item\\\" [class]=\\\"item.category.slug\\\" ></app-merchant-card>\\n  </li>\\n</ul>\"","import { Component, OnInit } from '@angular/core';\nimport { MerchantService } from \"../../services/merchant/merchant.service\";\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  providers: [ MerchantService ]\n})\nexport class HomePageComponent implements OnInit {\n\n  public merchantCollection: Array<any>\n  public merchantCollectionRaw: Array<any>\n  public categoriesCollectionSlug: Array<string>\n  public categoriesCollection: Array<any>\n  public activeCategory: string\n\n  constructor(\n    private MerchantService: MerchantService\n  ) { \n    this.categoriesCollectionSlug = []\n    this.categoriesCollection = []\n    this.activeCategory = 'all'\n  }\n\n  private getMerchantList = () => {\n    this.MerchantService.readAllItems()\n    .then( apiResponse => {\n      this.getMerchantCategories(apiResponse.data)\n      this.merchantCollection = apiResponse.data;\n      this.merchantCollectionRaw = apiResponse.data;\n    } )\n    .catch( apiResponse => console.error(apiResponse) )\n  }\n\n  private getMerchantCategories = (data: any) => {\n    \n    data.map( (item: any) => {\n      item.category.isActive = false\n      if(this.categoriesCollectionSlug.indexOf(item.category.slug) === -1){\n        this.categoriesCollectionSlug.push(item.category.slug) \n        this.categoriesCollection.push(item.category) \n      }\n    })\n\n    console.table(data[0].category)\n  }\n\n  public sortMerchant = (cat: any) => {\n    console.log(this.merchantCollection)\n\n    this.activeCategory = cat.slug\n    \n    cat.isActive = true\n\n    let tempArray = [];\n\n    this.merchantCollectionRaw.map( item => {\n     if( item.category.slug === cat.slug ){\n      tempArray.push(item)\n     } \n    })\n\n    this.merchantCollection = tempArray;\n  }\n\n  ngOnInit() {\n    this.getMerchantList()\n  }\n\n}\n","/* \nImports \n*/\n    // Angular\n    import { NgModule } from '@angular/core';\n    import { CommonModule } from '@angular/common';\n\n    // Inner\n    import { HomePageComponent } from './home-page.component';\n    import { Routing } from \"./router\";\n    import { MerchantCardComponent } from \"../../components/merchant-card/merchant-card.component\";\n//\n\n\n/* \nDefinition \n*/\n    @NgModule({\n        declarations: [ HomePageComponent, MerchantCardComponent ],\n        imports: [ \n            CommonModule, \n\n            // Ajouter le router dans la tableau des imports\n            Routing\n        ]\n    })\n//\n\n\n/* \nExport \n*/\n    export class Module {};\n//","/* \nImports \n*/\n    import { ModuleWithProviders } from '@angular/core';\n    import { Routes, RouterModule } from '@angular/router';\n    import { HomePageComponent } from './home-page.component';\n//\n\n\n/* \nDefinition \n*/\n    const route: Routes = [\n        {\n            path: '',\n            component: HomePageComponent\n        }\n    ];\n//\n\n\n/* \nExport \n*/\n    export const Routing: ModuleWithProviders = RouterModule.forChild(route);\n//","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from \"../../../environments/environment\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MerchantService {\n\n  private apiUrl: string;\n\n  constructor(\n    private HttpClient: HttpClient\n  ) {\n    this.apiUrl = environment.apiUrl\n  }\n\n  public readAllItems = (): Promise<any> => {\n    return this.HttpClient.get(`${this.apiUrl}/merchant`)\n    .toPromise().then(this.getData).catch(this.handleError)\n  }\n\n  // Get the API response\n  private getData(res: any){\n    return res || {};\n  };\n\n  // Get the API error\n  private handleError(err: any){\n    return Promise.reject(err.error);\n  };\n}\n"],"sourceRoot":""}